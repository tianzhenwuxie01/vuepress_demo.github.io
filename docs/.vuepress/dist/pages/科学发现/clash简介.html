<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>clash简介 | remuxo首页</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/egg.png">
    <meta name="description" content="remuxo记录">
    
    <link rel="preload" href="/assets/css/0.styles.9d3bb870.css" as="style"><link rel="preload" href="/assets/js/app.f6a11fcd.js" as="script"><link rel="preload" href="/assets/js/2.e89ba512.js" as="script"><link rel="preload" href="/assets/js/76.b356481b.js" as="script"><link rel="prefetch" href="/assets/js/10.27f704d3.js"><link rel="prefetch" href="/assets/js/100.60b54174.js"><link rel="prefetch" href="/assets/js/101.d6f6b1c1.js"><link rel="prefetch" href="/assets/js/102.67b897ef.js"><link rel="prefetch" href="/assets/js/103.4ffd1bcb.js"><link rel="prefetch" href="/assets/js/104.278a5539.js"><link rel="prefetch" href="/assets/js/105.45e90063.js"><link rel="prefetch" href="/assets/js/106.1afa03f9.js"><link rel="prefetch" href="/assets/js/107.221945c4.js"><link rel="prefetch" href="/assets/js/108.ce8ee732.js"><link rel="prefetch" href="/assets/js/109.fc75d648.js"><link rel="prefetch" href="/assets/js/11.e687a92e.js"><link rel="prefetch" href="/assets/js/110.fc46a9fa.js"><link rel="prefetch" href="/assets/js/111.3f01f9fd.js"><link rel="prefetch" href="/assets/js/112.984b561e.js"><link rel="prefetch" href="/assets/js/113.169007d2.js"><link rel="prefetch" href="/assets/js/114.4e458973.js"><link rel="prefetch" href="/assets/js/115.f5eb64f7.js"><link rel="prefetch" href="/assets/js/116.2966df97.js"><link rel="prefetch" href="/assets/js/117.656e89f8.js"><link rel="prefetch" href="/assets/js/118.78b79c44.js"><link rel="prefetch" href="/assets/js/119.568b76da.js"><link rel="prefetch" href="/assets/js/12.f1a63eb4.js"><link rel="prefetch" href="/assets/js/120.43dfa74b.js"><link rel="prefetch" href="/assets/js/121.d06b889c.js"><link rel="prefetch" href="/assets/js/122.8d145505.js"><link rel="prefetch" href="/assets/js/123.0e64519e.js"><link rel="prefetch" href="/assets/js/124.96f3dafe.js"><link rel="prefetch" href="/assets/js/125.860d8ca7.js"><link rel="prefetch" href="/assets/js/126.017a00d4.js"><link rel="prefetch" href="/assets/js/127.09936339.js"><link rel="prefetch" href="/assets/js/13.d955d55c.js"><link rel="prefetch" href="/assets/js/14.d4521ff8.js"><link rel="prefetch" href="/assets/js/15.4b38f47a.js"><link rel="prefetch" href="/assets/js/16.ac4d9233.js"><link rel="prefetch" href="/assets/js/17.cba811a4.js"><link rel="prefetch" href="/assets/js/18.79ca0690.js"><link rel="prefetch" href="/assets/js/19.914b83b5.js"><link rel="prefetch" href="/assets/js/20.937b4b97.js"><link rel="prefetch" href="/assets/js/21.1ebd4706.js"><link rel="prefetch" href="/assets/js/22.3b0efb4d.js"><link rel="prefetch" href="/assets/js/23.bf84bcf6.js"><link rel="prefetch" href="/assets/js/24.e1906a7d.js"><link rel="prefetch" href="/assets/js/25.ccd21f1c.js"><link rel="prefetch" href="/assets/js/26.3d3ca3b3.js"><link rel="prefetch" href="/assets/js/27.fbcbe231.js"><link rel="prefetch" href="/assets/js/28.4c8c109c.js"><link rel="prefetch" href="/assets/js/29.d8662979.js"><link rel="prefetch" href="/assets/js/3.9907d846.js"><link rel="prefetch" href="/assets/js/30.f5bfa018.js"><link rel="prefetch" href="/assets/js/31.be6989ad.js"><link rel="prefetch" href="/assets/js/32.4128af02.js"><link rel="prefetch" href="/assets/js/33.0abffaed.js"><link rel="prefetch" href="/assets/js/34.b410ecfb.js"><link rel="prefetch" href="/assets/js/35.cb831391.js"><link rel="prefetch" href="/assets/js/36.04cad703.js"><link rel="prefetch" href="/assets/js/37.9cc718fb.js"><link rel="prefetch" href="/assets/js/38.d4c21226.js"><link rel="prefetch" href="/assets/js/39.3badb44e.js"><link rel="prefetch" href="/assets/js/4.188d1794.js"><link rel="prefetch" href="/assets/js/40.ac677d31.js"><link rel="prefetch" href="/assets/js/41.3b949f4a.js"><link rel="prefetch" href="/assets/js/42.e59682c3.js"><link rel="prefetch" href="/assets/js/43.1110a943.js"><link rel="prefetch" href="/assets/js/44.dfe606b5.js"><link rel="prefetch" href="/assets/js/45.14600993.js"><link rel="prefetch" href="/assets/js/46.4f14e537.js"><link rel="prefetch" href="/assets/js/47.7d0b93bd.js"><link rel="prefetch" href="/assets/js/48.cc3636a4.js"><link rel="prefetch" href="/assets/js/49.ae93c90d.js"><link rel="prefetch" href="/assets/js/5.5ca2f236.js"><link rel="prefetch" href="/assets/js/50.cb6a1c19.js"><link rel="prefetch" href="/assets/js/51.c9783743.js"><link rel="prefetch" href="/assets/js/52.10e86cda.js"><link rel="prefetch" href="/assets/js/53.a0895403.js"><link rel="prefetch" href="/assets/js/54.d0124ca4.js"><link rel="prefetch" href="/assets/js/55.f8c2f93a.js"><link rel="prefetch" href="/assets/js/56.b7a34b8a.js"><link rel="prefetch" href="/assets/js/57.1fb0b29c.js"><link rel="prefetch" href="/assets/js/58.35d0512c.js"><link rel="prefetch" href="/assets/js/59.86f085e7.js"><link rel="prefetch" href="/assets/js/6.740953a8.js"><link rel="prefetch" href="/assets/js/60.c1cdca44.js"><link rel="prefetch" href="/assets/js/61.7eb259b9.js"><link rel="prefetch" href="/assets/js/62.1d4752c1.js"><link rel="prefetch" href="/assets/js/63.6fdc9180.js"><link rel="prefetch" href="/assets/js/64.26c996d6.js"><link rel="prefetch" href="/assets/js/65.f7af99fa.js"><link rel="prefetch" href="/assets/js/66.d26ce4e9.js"><link rel="prefetch" href="/assets/js/67.5b843ef5.js"><link rel="prefetch" href="/assets/js/68.3699de87.js"><link rel="prefetch" href="/assets/js/69.7f52c40d.js"><link rel="prefetch" href="/assets/js/7.ecca1723.js"><link rel="prefetch" href="/assets/js/70.8113ac37.js"><link rel="prefetch" href="/assets/js/71.c13e2811.js"><link rel="prefetch" href="/assets/js/72.0f7a3203.js"><link rel="prefetch" href="/assets/js/73.cd657b6b.js"><link rel="prefetch" href="/assets/js/74.9df43ba5.js"><link rel="prefetch" href="/assets/js/75.4607d830.js"><link rel="prefetch" href="/assets/js/77.0983072e.js"><link rel="prefetch" href="/assets/js/78.df35d715.js"><link rel="prefetch" href="/assets/js/79.684ad3b9.js"><link rel="prefetch" href="/assets/js/8.2c06dc5e.js"><link rel="prefetch" href="/assets/js/80.04a6f41d.js"><link rel="prefetch" href="/assets/js/81.353afc5c.js"><link rel="prefetch" href="/assets/js/82.21127003.js"><link rel="prefetch" href="/assets/js/83.3a025f6f.js"><link rel="prefetch" href="/assets/js/84.1998c5f1.js"><link rel="prefetch" href="/assets/js/85.82641c5e.js"><link rel="prefetch" href="/assets/js/86.0f21bbdb.js"><link rel="prefetch" href="/assets/js/87.700d97e7.js"><link rel="prefetch" href="/assets/js/88.49abbe34.js"><link rel="prefetch" href="/assets/js/89.af35ece3.js"><link rel="prefetch" href="/assets/js/9.542f8dc0.js"><link rel="prefetch" href="/assets/js/90.1bb1ee53.js"><link rel="prefetch" href="/assets/js/91.f7a05c83.js"><link rel="prefetch" href="/assets/js/92.a15b8472.js"><link rel="prefetch" href="/assets/js/93.d5254e11.js"><link rel="prefetch" href="/assets/js/94.c2c38705.js"><link rel="prefetch" href="/assets/js/95.e1d0bdf4.js"><link rel="prefetch" href="/assets/js/96.952cdd77.js"><link rel="prefetch" href="/assets/js/97.2cd74791.js"><link rel="prefetch" href="/assets/js/98.0712ca9a.js"><link rel="prefetch" href="/assets/js/99.5ae8bafa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d3bb870.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/egg.png" alt="remuxo首页" class="logo"> <span class="site-name can-hide">remuxo首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/设计/APP从设计到切图标注适配.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/科学发现/clash相关项目git链接.html" class="nav-link">
  科学发现
</a></li><li class="dropdown-item"><!----> <a href="/pages/设计/APP从设计到切图标注适配.html" class="nav-link">
  设计
</a></li><li class="dropdown-item"><!----> <a href="/pages/软件/psd文件过大(图片原始数据冗余).html" class="nav-link">
  软件
</a></li><li class="dropdown-item"><!----> <a href="/pages/学习/python01.html" class="nav-link">
  学习
</a></li><li class="dropdown-item"><!----> <a href="/pages/娱乐/gta5-nat介绍.html" class="nav-link">
  娱乐
</a></li><li class="dropdown-item"><!----> <a href="/pages/github/git简介.html" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/pages/hexo/hexo安装.html" class="nav-link">
  hexo
</a></li><li class="dropdown-item"><!----> <a href="/pages/linux/linux系统文件夹.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/tianzhenwuxie01/vuepress_demo.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pages/设计/APP从设计到切图标注适配.html" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/科学发现/clash相关项目git链接.html" class="nav-link">
  科学发现
</a></li><li class="dropdown-item"><!----> <a href="/pages/设计/APP从设计到切图标注适配.html" class="nav-link">
  设计
</a></li><li class="dropdown-item"><!----> <a href="/pages/软件/psd文件过大(图片原始数据冗余).html" class="nav-link">
  软件
</a></li><li class="dropdown-item"><!----> <a href="/pages/学习/python01.html" class="nav-link">
  学习
</a></li><li class="dropdown-item"><!----> <a href="/pages/娱乐/gta5-nat介绍.html" class="nav-link">
  娱乐
</a></li><li class="dropdown-item"><!----> <a href="/pages/github/git简介.html" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/pages/hexo/hexo安装.html" class="nav-link">
  hexo
</a></li><li class="dropdown-item"><!----> <a href="/pages/linux/linux系统文件夹.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/tianzhenwuxie01/vuepress_demo.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>github</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hexo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>娱乐</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>科学发现</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/科学发现/cfw汉化方法.html" class="sidebar-link">cfw汉化方法</a></li><li><a href="/pages/科学发现/chfs-HTTP协议的文件共享服务器.html" class="sidebar-link">chfs-HTTP协议的文件共享服务器</a></li><li><a href="/pages/科学发现/Chrome强制播放Netflix1080p高画质方法.html" class="sidebar-link">Chrome强制播放Netflix1080p高画质方法</a></li><li><a href="/pages/科学发现/clashx.html" class="sidebar-link">clashx</a></li><li><a href="/pages/科学发现/clash相关项目git链接.html" class="sidebar-link">clash相关项目git链接</a></li><li><a href="/pages/科学发现/clash简介.html" class="active sidebar-link">clash简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/科学发现/clash规则去广告和插件对比.html" class="sidebar-link">clash规则去广告和插件对比</a></li><li><a href="/pages/科学发现/clash解锁网易云.html" class="sidebar-link">clash解锁网易云</a></li><li><a href="/pages/科学发现/clash配合Adguard.html" class="sidebar-link">clash配合Adguard</a></li><li><a href="/pages/科学发现/linux端使用clash.html" class="sidebar-link">linux端使用clash</a></li><li><a href="/pages/科学发现/MSDN–消费者版和商业版.html" class="sidebar-link">MSDN–消费者版和商业版</a></li><li><a href="/pages/科学发现/OneDrive的分类简介.html" class="sidebar-link">OneDrive的分类简介</a></li><li><a href="/pages/科学发现/Rundll32 commands win常用命令.html" class="sidebar-link">Rundll32 commands win常用命令</a></li><li><a href="/pages/科学发现/ShadowSocks端口已被占用.html" class="sidebar-link">ShadowSocks端口已被占用</a></li><li><a href="/pages/科学发现/ssr-ss等pac文件的语法.html" class="sidebar-link">ssr-ss等pac文件的语法</a></li><li><a href="/pages/科学发现/subconverter本地api.html" class="sidebar-link">subconverter本地api</a></li><li><a href="/pages/科学发现/Surge 配置详解.html" class="sidebar-link">Surge 配置详解</a></li><li><a href="/pages/科学发现/V2rayU.html" class="sidebar-link">V2rayU</a></li><li><a href="/pages/科学发现/一些科学上网知识.html" class="sidebar-link">一些科学上网知识</a></li><li><a href="/pages/科学发现/乌班图U盘rufus写入.html" class="sidebar-link">乌班图U盘rufus写入</a></li><li><a href="/pages/科学发现/云盘价格.html" class="sidebar-link">云盘价格</a></li><li><a href="/pages/科学发现/关于Geoip库及更新.html" class="sidebar-link">关于Geoip库及更新</a></li><li><a href="/pages/科学发现/在Win10上使用客户端观看Netflix.html" class="sidebar-link">在Win10上使用客户端观看Netflix</a></li><li><a href="/pages/科学发现/奈飞客户端--安卓.html" class="sidebar-link">奈飞客户端--安卓</a></li><li><a href="/pages/科学发现/如何测试自己的科学上网速度？.html" class="sidebar-link">如何测试自己的科学上网速度？</a></li><li><a href="/pages/科学发现/影视视频下载.html" class="sidebar-link">影视视频下载</a></li><li><a href="/pages/科学发现/用于Clashcmd固定到任务栏.html" class="sidebar-link">用于Clashcmd固定到任务栏</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软件</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="https://remuxo.gitee.io/2020/04/01/ke-xue-fa-xian/clash-xiang-guan-xiang-mu-git-lian-jie/" target="_blank" rel="noopener noreferrer">clash 相关项目连接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="clash-简介"><a href="#clash-简介" class="header-anchor">#</a> clash 简介</h3> <p>Clash 是一个使用 Go 语言编写，基于规则的跨平台代理软件核心程序。<br>
拥有众多分支，clash for windows，clash for Android，clashx（macos）擦，clasha（已停止维护）。。。
支持的协议： Vmess, Shadowsocks,Trojan， Snell , SOCKS5，ssr（clashr）</p> <p>特性</p> <ul><li>可随时切换代理模式及节点</li> <li>支持节点批量延迟测试</li> <li>通过托管链接一键配置</li> <li>规则命中</li> <li>日志输出</li> <li>远程规则调用（RULE-SET）</li></ul> <p>clash(r)下载地址:<br> <a href="https://remuxo.gitee.io/2020/04/01/ke-xue-fa-xian/clash-xiang-guan-xiang-mu-git-lian-jie/" target="_blank" rel="noopener noreferrer">https://remuxo.gitee.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="clash-配置文件案例-d-大"><a href="#clash-配置文件案例-d-大" class="header-anchor">#</a> clash 配置文件案例--D 大</h3> <details><summary><b style="color:#B47CFD;">点击查看文件内容</b></summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># Port of HTTP(S) proxy server on the local end</span>
<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7890</span>

<span class="token comment"># Port of SOCKS5 proxy server on the local end</span>
<span class="token key atrule">socks-port</span><span class="token punctuation">:</span> <span class="token number">7891</span>

<span class="token comment"># Transparent proxy server port for Linux and macOS</span>
<span class="token key atrule">redir-port</span><span class="token punctuation">:</span> <span class="token number">7892</span>

<span class="token comment"># HTTP(S) and SOCKS5 server on the same port</span>
<span class="token comment"># mixed-port: 7890</span>

<span class="token comment"># authentication of local SOCKS5/HTTP(S) server</span>
<span class="token comment"># authentication:</span>
<span class="token comment">#  - &quot;user1:pass1&quot;</span>
<span class="token comment">#  - &quot;user2:pass2&quot;</span>

<span class="token comment"># Set to true to allow connections to local-end server from</span>
<span class="token comment"># other LAN IP addresses</span>
<span class="token key atrule">allow-lan</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token comment"># This is only applicable when `allow-lan` is `true`</span>
<span class="token comment"># '*': bind all IP addresses</span>
<span class="token comment"># 192.168.122.11: bind a single IPv4 address</span>
<span class="token comment"># &quot;[aaaa::a8aa:ff:fe09:57d8]&quot;: bind a single IPv6 address</span>
<span class="token key atrule">bind-address</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span>

<span class="token comment"># Clash router working mode</span>
<span class="token comment"># rule: rule-based packet routing</span>
<span class="token comment"># global: all packets will be forwarded to a single endpoint</span>
<span class="token comment"># direct: directly forward the packets to the Internet</span>
<span class="token key atrule">mode</span><span class="token punctuation">:</span> rule

<span class="token comment"># Clash by default prints logs to STDOUT</span>
<span class="token comment"># info / warning / error / debug / silent</span>
<span class="token key atrule">log-level</span><span class="token punctuation">:</span> info

<span class="token comment"># When set to false, resolver won't translate hostnames to IPv6 addresses</span>
<span class="token key atrule">ipv6</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># RESTful web API listening address</span>
<span class="token key atrule">external-controller</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">9090</span>

<span class="token comment"># A relative path to the configuration directory or an absolute path to a</span>
<span class="token comment"># directory in which you put some static web resource. Clash core will then</span>
<span class="token comment"># serve it at `http://{{external-controller}}/ui`.</span>
<span class="token key atrule">external-ui</span><span class="token punctuation">:</span> folder

<span class="token comment"># Secret for the RESTful API (optional)</span>
<span class="token comment"># Authenticate by spedifying HTTP header `Authorization: Bearer ${secret}`</span>
<span class="token comment"># ALWAYS set a secret if RESTful API is listening on 0.0.0.0</span>
<span class="token comment"># secret: &quot;&quot;</span>

<span class="token comment"># Outbound interface name</span>
<span class="token key atrule">interface-name</span><span class="token punctuation">:</span> en0

<span class="token comment"># Static hosts for DNS server and connection establishment, only works</span>
<span class="token comment"># when `dns.enhanced-mode` is `redir-host`.</span>
<span class="token comment">#</span>
<span class="token comment"># Wildcard hostnames are supported (e.g. *.clash.dev, *.foo.*.example.com)</span>
<span class="token comment"># Non-wildcard domain names has a higher priority than wildcard domain names</span>
<span class="token comment"># e.g. foo.example.com &gt; *.example.com &gt; .example.com</span>
<span class="token comment"># P.S. +.foo.com equals to .foo.com and foo.com</span>
<span class="token key atrule">hosts</span><span class="token punctuation">:</span>
  <span class="token comment"># '*.clash.dev': 127.0.0.1</span>
  <span class="token comment"># '.dev': 127.0.0.1</span>
  <span class="token comment"># 'alpha.clash.dev': '::1'</span>

<span class="token comment"># DNS server settings</span>
<span class="token comment"># This section is optional. When not present, DNS server will be disabled.</span>
<span class="token key atrule">dns</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">listen</span><span class="token punctuation">:</span> 0.0.0.0<span class="token punctuation">:</span><span class="token number">53</span>
  <span class="token comment"># ipv6: false # when false, response to AAAA questions will be empty</span>

  <span class="token comment"># These nameservers are used to resolve the DNS nameserver hostnames below.</span>
  <span class="token comment"># Specify IP addresses only</span>
  <span class="token key atrule">default-nameserver</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 114.114.114.114
    <span class="token punctuation">-</span> 8.8.8.8
  <span class="token key atrule">enhanced-mode</span><span class="token punctuation">:</span> redir<span class="token punctuation">-</span>host <span class="token comment"># or fake-ip</span>
  <span class="token key atrule">fake-ip-range</span><span class="token punctuation">:</span> 198.18.0.1/16 <span class="token comment"># Fake IP addresses pool CIDR</span>

  <span class="token comment"># Hostnames in this list will not be resolved with fake IPs</span>
  <span class="token comment"># i.e. questions to these domain names will always be answered with their</span>
  <span class="token comment"># real IP addresses</span>
  <span class="token comment"># fake-ip-filter:</span>
  <span class="token comment">#   - '*.lan'</span>
  <span class="token comment">#   - localhost.ptlogin2.qq.com</span>

  <span class="token comment"># Supports UDP, TCP, DoT, DoH. You can specify the port to connect to.</span>
  <span class="token comment"># All DNS questions are sent directly to the nameserver, without proxies</span>
  <span class="token comment"># involved. Clash answers the DNS question with the first result gathered.</span>
  <span class="token key atrule">nameserver</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 114.114.114.114 <span class="token comment"># default value</span>
    <span class="token punctuation">-</span> 8.8.8.8 <span class="token comment"># default value</span>
    <span class="token punctuation">-</span> tls<span class="token punctuation">:</span>//dns.rubyfish.cn<span class="token punctuation">:</span><span class="token number">853</span> <span class="token comment"># DNS over TLS</span>
    <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//1.1.1.1/dns<span class="token punctuation">-</span>query <span class="token comment"># DNS over HTTPS</span>

  <span class="token comment"># When `fallback` is present, the DNS server will send concurrent requests</span>
  <span class="token comment"># to the servers in this section along with servers in `nameservers`.</span>
  <span class="token comment"># The answers from fallback servers are used when the GEOIP country</span>
  <span class="token comment"># is not `CN`.</span>
  <span class="token comment"># fallback:</span>
  <span class="token comment">#   - tcp://1.1.1.1</span>

  <span class="token comment"># If IP addresses resolved with servers in `nameservers` are in the specified</span>
  <span class="token comment"># subnets below, they are considered invalid and results from `fallback`</span>
  <span class="token comment"># servers are used instead.</span>
  <span class="token comment">#</span>
  <span class="token comment"># IP address resolved with servers in `nameserver` is used when</span>
  <span class="token comment"># `fallback-filter.geoip` is true and when GEOIP of the IP address is `CN`.</span>
  <span class="token comment">#</span>
  <span class="token comment"># If `fallback-filter.geoip` is false, results from `fallback` nameservers</span>
  <span class="token comment"># are always used, and answers from `nameservers` are discarded.</span>
  <span class="token comment">#</span>
  <span class="token comment"># This is a countermeasure against DNS pollution attacks.</span>
  <span class="token key atrule">fallback-filter</span><span class="token punctuation">:</span>
    <span class="token key atrule">geoip</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">ipcidr</span><span class="token punctuation">:</span>
      <span class="token comment"># - 240.0.0.0/4</span>

<span class="token key atrule">proxies</span><span class="token punctuation">:</span>
  <span class="token comment"># Shadowsocks</span>
  <span class="token comment"># The supported ciphers (encryption methods):</span>
  <span class="token comment">#   aes-128-gcm aes-192-gcm aes-256-gcm</span>
  <span class="token comment">#   aes-128-cfb aes-192-cfb aes-256-cfb</span>
  <span class="token comment">#   aes-128-ctr aes-192-ctr aes-256-ctr</span>
  <span class="token comment">#   rc4-md5 chacha20-ietf xchacha20</span>
  <span class="token comment">#   chacha20-ietf-poly1305 xchacha20-ietf-poly1305</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;ss1&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> ss
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">cipher</span><span class="token punctuation">:</span> chacha20<span class="token punctuation">-</span>ietf<span class="token punctuation">-</span>poly1305
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;password&quot;</span>
    <span class="token comment"># udp: true</span>

  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;ss2&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> ss
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">cipher</span><span class="token punctuation">:</span> chacha20<span class="token punctuation">-</span>ietf<span class="token punctuation">-</span>poly1305
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;password&quot;</span>
    <span class="token key atrule">plugin</span><span class="token punctuation">:</span> obfs
    <span class="token key atrule">plugin-opts</span><span class="token punctuation">:</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> tls <span class="token comment"># or http</span>
      <span class="token comment"># host: bing.com</span>

  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;ss3&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> ss
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">cipher</span><span class="token punctuation">:</span> chacha20<span class="token punctuation">-</span>ietf<span class="token punctuation">-</span>poly1305
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;password&quot;</span>
    <span class="token key atrule">plugin</span><span class="token punctuation">:</span> v2ray<span class="token punctuation">-</span>plugin
    <span class="token key atrule">plugin-opts</span><span class="token punctuation">:</span>
      <span class="token key atrule">mode</span><span class="token punctuation">:</span> websocket <span class="token comment"># no QUIC now</span>
      <span class="token comment"># tls: true # wss</span>
      <span class="token comment"># skip-cert-verify: true</span>
      <span class="token comment"># host: bing.com</span>
      <span class="token comment"># path: &quot;/&quot;</span>
      <span class="token comment"># mux: true</span>
      <span class="token comment"># headers:</span>
      <span class="token comment">#   custom: value</span>

  <span class="token comment"># vmess</span>
  <span class="token comment"># cipher support auto/aes-128-gcm/chacha20-poly1305/none</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;vmess&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> vmess
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">uuid</span><span class="token punctuation">:</span> uuid
    <span class="token key atrule">alterId</span><span class="token punctuation">:</span> <span class="token number">32</span>
    <span class="token key atrule">cipher</span><span class="token punctuation">:</span> auto
    <span class="token comment"># udp: true</span>
    <span class="token comment"># tls: true</span>
    <span class="token comment"># skip-cert-verify: true</span>
    <span class="token comment"># servername: example.com # priority over wss host</span>
    <span class="token comment"># network: ws</span>
    <span class="token comment"># ws-path: /path</span>
    <span class="token comment"># ws-headers:</span>
    <span class="token comment">#   Host: v2ray.com</span>

  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;vmess-http&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> vmess
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">uuid</span><span class="token punctuation">:</span> uuid
    <span class="token key atrule">alterId</span><span class="token punctuation">:</span> <span class="token number">32</span>
    <span class="token key atrule">cipher</span><span class="token punctuation">:</span> auto
    <span class="token comment"># udp: true</span>
    <span class="token comment"># network: http</span>
    <span class="token comment"># http-opts:</span>
    <span class="token comment">#   # method: &quot;GET&quot;</span>
    <span class="token comment">#   # path:</span>
    <span class="token comment">#   #   - '/'</span>
    <span class="token comment">#   #   - '/video'</span>
    <span class="token comment">#   # headers:</span>
    <span class="token comment">#   #   Connection:</span>
    <span class="token comment">#   #     - keep-alive</span>

  <span class="token comment"># socks5</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;socks&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> socks5
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token comment"># username: username</span>
    <span class="token comment"># password: password</span>
    <span class="token comment"># tls: true</span>
    <span class="token comment"># skip-cert-verify: true</span>
    <span class="token comment"># udp: true</span>

  <span class="token comment"># http</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;http&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> http
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token comment"># username: username</span>
    <span class="token comment"># password: password</span>
    <span class="token comment"># tls: true # https</span>
    <span class="token comment"># skip-cert-verify: true</span>

  <span class="token comment"># Snell</span>
  <span class="token comment"># Beware that there's currently no UDP support yet</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;snell&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> snell
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">44046</span>
    <span class="token key atrule">psk</span><span class="token punctuation">:</span> yourpsk
    <span class="token comment"># obfs-opts:</span>
    <span class="token comment"># mode: http # or tls</span>
    <span class="token comment"># host: bing.com</span>

  <span class="token comment"># Trojan</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;trojan&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> trojan
    <span class="token key atrule">server</span><span class="token punctuation">:</span> server
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">443</span>
    <span class="token key atrule">password</span><span class="token punctuation">:</span> yourpsk
    <span class="token comment"># udp: true</span>
    <span class="token comment"># sni: example.com # aka server name</span>
    <span class="token comment"># alpn:</span>
    <span class="token comment">#   - h2</span>
    <span class="token comment">#   - http/1.1</span>
    <span class="token comment"># skip-cert-verify: true</span>

<span class="token key atrule">proxy-groups</span><span class="token punctuation">:</span>
  <span class="token comment"># relay chains the proxies. proxies shall not contain a relay. No UDP support.</span>
  <span class="token comment"># Traffic: clash &lt;-&gt; http &lt;-&gt; vmess &lt;-&gt; ss1 &lt;-&gt; ss2 &lt;-&gt; Internet</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;relay&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> relay
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> http
      <span class="token punctuation">-</span> vmess
      <span class="token punctuation">-</span> ss1
      <span class="token punctuation">-</span> ss2

  <span class="token comment"># url-test select which proxy will be used by benchmarking speed to a URL.</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;auto&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> url<span class="token punctuation">-</span>test
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ss1
      <span class="token punctuation">-</span> ss2
      <span class="token punctuation">-</span> vmess1
    <span class="token comment"># tolerance: 150</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">&quot;http://www.gstatic.com/generate_204&quot;</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>

  <span class="token comment"># fallback select an available policy by priority. The availability is tested by accessing an URL, just like an auto url-test group.</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;fallback-auto&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> fallback
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ss1
      <span class="token punctuation">-</span> ss2
      <span class="token punctuation">-</span> vmess1
    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">&quot;http://www.gstatic.com/generate_204&quot;</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>

  <span class="token comment"># load-balance: The request of the same eTLD will be dial on the same proxy.</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;load-balance&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> load<span class="token punctuation">-</span>balance
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ss1
      <span class="token punctuation">-</span> ss2
      <span class="token punctuation">-</span> vmess1
    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">&quot;http://www.gstatic.com/generate_204&quot;</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>

  <span class="token comment"># select is used for selecting proxy or proxy group</span>
  <span class="token comment"># you can use RESTful API to switch proxy, is recommended for use in GUI.</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Proxy
    <span class="token key atrule">type</span><span class="token punctuation">:</span> select
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ss1
      <span class="token punctuation">-</span> ss2
      <span class="token punctuation">-</span> vmess1
      <span class="token punctuation">-</span> auto

  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> UseProvider
    <span class="token key atrule">type</span><span class="token punctuation">:</span> select
    <span class="token key atrule">use</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> provider1
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Proxy
      <span class="token punctuation">-</span> DIRECT

<span class="token key atrule">proxy-providers</span><span class="token punctuation">:</span>
  <span class="token key atrule">provider1</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> http
    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">&quot;url&quot;</span>
    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">3600</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./provider1.yaml
    <span class="token key atrule">health-check</span><span class="token punctuation">:</span>
      <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">600</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//www.gstatic.com/generate_204
  <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> file
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /test.yaml
    <span class="token key atrule">health-check</span><span class="token punctuation">:</span>
      <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">36000</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//www.gstatic.com/generate_204

<span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>google.com<span class="token punctuation">,</span>auto
  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>KEYWORD<span class="token punctuation">,</span>google<span class="token punctuation">,</span>auto
  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">,</span>google.com<span class="token punctuation">,</span>auto
  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>ad.com<span class="token punctuation">,</span>REJECT
  <span class="token punctuation">-</span> SRC<span class="token punctuation">-</span>IP<span class="token punctuation">-</span>CIDR<span class="token punctuation">,</span>192.168.1.201/32<span class="token punctuation">,</span>DIRECT
  <span class="token comment"># optional param &quot;no-resolve&quot; for IP rules (GEOIP, IP-CIDR, IP-CIDR6)</span>
  <span class="token punctuation">-</span> IP<span class="token punctuation">-</span>CIDR<span class="token punctuation">,</span>127.0.0.0/8<span class="token punctuation">,</span>DIRECT
  <span class="token punctuation">-</span> GEOIP<span class="token punctuation">,</span>CN<span class="token punctuation">,</span>DIRECT
  <span class="token punctuation">-</span> DST<span class="token punctuation">-</span>PORT<span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span>DIRECT
  <span class="token punctuation">-</span> SRC<span class="token punctuation">-</span>PORT<span class="token punctuation">,</span><span class="token number">7777</span><span class="token punctuation">,</span>DIRECT
  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>apple<span class="token punctuation">,</span>REJECT <span class="token comment"># Premium only</span>
  <span class="token punctuation">-</span> MATCH<span class="token punctuation">,</span>auto
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br></div></div></details> <h3 id="clash-规则参数"><a href="#clash-规则参数" class="header-anchor">#</a> clash 规则参数</h3> <ul><li>DOMAIN：域名匹配</li> <li>DOMAIN-SUFFIX：域名后缀匹配</li> <li>DOMAIN-KEYWORD：域名关键字匹配</li> <li>IP-CIDR：IP 段匹配</li> <li>IP-CIDR6：IP6 段匹配</li> <li>SRC-IP-CIDR：源 IP 段匹配</li> <li>GEOIP：GEOIP 数据库（国家代码）匹配</li> <li>DST-PORT：目标端口匹配</li> <li>SRC-PORT：源端口匹配</li> <li>MATCH：全匹配（一般放在最后）</li> <li>RULE-SET: Rule Provider</li></ul> <details><summary><b style="color:#B47CFD;">详细参数解释</b></summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>DOMAIN：DOMAIN<span class="token punctuation">,</span>www.google.com<span class="token punctuation">,</span>policy仅www.google.com前往的路线policy。
DOMAIN<span class="token punctuation">-</span>SUFFIX：将DOMAIN<span class="token punctuation">-</span>KEYWORD<span class="token punctuation">,</span>youtube.com<span class="token punctuation">,</span>policy任何youtube.com以www.youtube.com或结尾的FQDN路由foo.bar.youtube.com到policy。这就像通配符一样工作+。
DOMAIN<span class="token punctuation">-</span>KEYWORD：DOMAIN<span class="token punctuation">-</span>KEYWORD<span class="token punctuation">,</span>google<span class="token punctuation">,</span>policy将包含google例如www.google.com或的任何FQDN路由googleapis.com到policy。
GEOIP：将GEOIP<span class="token punctuation">,</span>CN<span class="token punctuation">,</span>policy任何请求路由到中国IP地址policy。
IP<span class="token punctuation">-</span>CIDR：将IP<span class="token punctuation">-</span>CIDR<span class="token punctuation">,</span>127.0.0.0/8<span class="token punctuation">,</span>DIRECT所有数据包路由127.0.0.0/8到该DIRECT策略。
IP<span class="token punctuation">-</span>CIDR6：将IP<span class="token punctuation">-</span>CIDR6<span class="token punctuation">,</span><span class="token punctuation">[</span>2620<span class="token punctuation">:</span>0<span class="token punctuation">:</span>2d0<span class="token punctuation">:</span>200<span class="token punctuation">:</span><span class="token punctuation">:</span>7/32<span class="token punctuation">]</span><span class="token punctuation">,</span>policy所有数据包路由2620<span class="token punctuation">:</span>0<span class="token punctuation">:</span>2d0<span class="token punctuation">:</span>200<span class="token punctuation">:</span><span class="token punctuation">:</span>7/32到policy。
SRC<span class="token punctuation">-</span>IP<span class="token punctuation">-</span>CIDR：将SRC<span class="token punctuation">-</span>IP<span class="token punctuation">-</span>CIDR<span class="token punctuation">,</span>192.168.1.201/32<span class="token punctuation">,</span>DIRECT所有数据包从 路由192.168.1.201/32到该DIRECT策略。
SRC<span class="token punctuation">-</span>PORT：将来自端口80的SRC<span class="token punctuation">-</span>PORT<span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span>policy所有数据包路由到。policy
DST<span class="token punctuation">-</span>PORT：将DST<span class="token punctuation">-</span>PORT<span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span>policy所有数据包路由到端口80 policy。
MATCH：MATCH<span class="token punctuation">,</span>policy将其余数据包路由到policy。此规则是必需的。
还有两个附加的特殊政策：

DIRECT：直接连接到目标，无需任何代理
REJECT：数据包的黑洞。冲突不会处理此策略的任何I / O。
策略可以是DIRECT，REJECT代理组或代理服务器。

DOMAIN<span class="token punctuation">-</span>SUFFIX表示增加域名，比如：ceshi.xyz，匹配整个ceshi.xyz网站
KEYWORD表示增加关键字，比如ceshi，则可以匹配网址单词包括有“ceshi”的网址，比如aaceshi.xyz<span class="token punctuation">,</span>ceshi.com<span class="token punctuation">,</span>aceshib.com/help等。
IP–CIDR表示指定ip： 比如：13.105.218.23/32，表示匹配整个ip
<span class="token comment">#Rule Provider</span>
  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>🎫 全球直连_6475375759347264633_domain<span class="token punctuation">,</span>🎫 全球直连
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></details> <blockquote><p><a href="https://tool.chinaz.com/tools/subnetmask" target="_blank" rel="noopener noreferrer">网络和 IP 地址计算器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> &gt;<a href="https://hongwan.xyz/2019/11/28/clash%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B(%E6%90%AD%E9%85%8DProxy%20SwitchyOmega)/" target="_blank" rel="noopener noreferrer">参考博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> &gt;<a href="https://github.com/Dreamacro/clash/wiki/configuration" target="_blank" rel="noopener noreferrer">D 大 wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> &gt;<a href="https://lancellc.gitbook.io/clash/clash-config-file/script" target="_blank" rel="noopener noreferrer">clash 文档-d 大钦定<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="工作模式"><a href="#工作模式" class="header-anchor">#</a> 工作模式</h4> <p>Clash 共有三种工作模式：</p> <ul><li>全局（Global）：所有请求直接发往代理服务器</li> <li>规则（Rule）：所有请求根据配置文件规则进行分流</li> <li>直连（Direct）：所有请求直接发往目的地</li></ul> <h3 id="cfw-配置文件"><a href="#cfw-配置文件" class="header-anchor">#</a> cfw 配置文件</h3> <h4 id="config-yaml"><a href="#config-yaml" class="header-anchor">#</a> config.yaml</h4> <ul><li>位置：<code>Home Directory/config.yaml</code></li></ul> <blockquote><p>这是 Clash 的启动文件，位于 Home Directory 中，如果此文件有错，则 Clash 核心将无法启动</p></blockquote> <p>另外，此文件除了支持 Clash 全部字段写法外，还额外支持 4 个 CFW 特定的字段：</p> <ul><li>cfw-latency-timeout：延迟测试超时时间（毫秒），默认 3000</li> <li>cfw-latency-url：延迟测试 URL，默认<a href="http://www.gstatic.com/generate_204" target="_blank" rel="noopener noreferrer">http://www.gstatic.com/generate_204<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>cfw-bypass：系统代理绕过域名或地址，参考 绕过系统代理</li> <li>cfw-conn-break-strategy: 切换节点后或切换配置文件后打断连接，参考 打断连接</li> <li>cfw-profiles-path: 自定义 profiles 目录路径 (beta), 参考 自定义配置目录</li></ul> <p><strong>我的 config.yaml/cfw-settings</strong></p> <blockquote><p>(cfw 继 0.11.0 正式版后取消<code>config.yaml</code>文件中<code>cfw-xxx</code>参数支持,改为<code>cfw-settings</code>控制)
<code>cfw-settings</code>位置: <code>C:\Users\26638\.config\clash</code></p></blockquote> <details><summary><b style="color:#B47CFD;">config.yaml(0.11.0以前)</b></summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment">#port: 7890</span>
<span class="token comment">#socks-port: 7891</span>
<span class="token key atrule">mixed-port</span><span class="token punctuation">:</span> <span class="token number">7890</span>
<span class="token key atrule">redir-port</span><span class="token punctuation">:</span> <span class="token number">7892</span>
<span class="token key atrule">allow-lan</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">mode</span><span class="token punctuation">:</span> rule
<span class="token key atrule">log-level</span><span class="token punctuation">:</span> info
<span class="token key atrule">external-controller</span><span class="token punctuation">:</span> <span class="token string">&quot;127.0.0.1:9090&quot;</span>
<span class="token comment"># RESTful API 的口令 (可选)</span>
<span class="token key atrule">secret</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>

<span class="token comment"># 您可以将静态网页资源（如 clash-dashboard）放置在一个目录中，clash 将会服务于 `RESTful API/ui`</span>
<span class="token comment"># 参数应填写配置目录的相对路径或绝对路径。</span>
<span class="token key atrule">external-ui</span><span class="token punctuation">:</span> dashboard_Razord

<span class="token comment"># 自定义图标</span>
<span class="token key atrule">cfw-tray-icon</span><span class="token punctuation">:</span>
  <span class="token key atrule">default</span><span class="token punctuation">:</span> E<span class="token punctuation">:</span>\360\Clash for Windows\logo_64.png <span class="token comment"># 默认图标</span>
  <span class="token key atrule">system-proxy-on</span><span class="token punctuation">:</span> E<span class="token punctuation">:</span>\360\Clash for Windows\logo_64.png

<span class="token comment"># 自定义字体</span>
<span class="token comment"># 0.9.3版本更新后，支持自定义客户端字体</span>
<span class="token comment">#cfw-font-family: &quot;DeVinne Txt BT&quot;</span>
<span class="token key atrule">cfw-font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;Fira Code&quot;</span>

<span class="token comment"># 自定义节点排序</span>
<span class="token comment"># 0.9.10版本更新后，支持自定义节点排序</span>
<span class="token comment"># default：按配置文件定义节点顺序----latency：按节点延迟升序排列----alphabet：按节点名称字母表排列</span>
<span class="token key atrule">cfw-proxies-order</span><span class="token punctuation">:</span> default

<span class="token comment"># 混合配置（mixin）</span>
<span class="token comment"># 0.9.5版本更新后，支持向所有配置文件中注入公共属性设置</span>
<span class="token key atrule">cfw-profile-mixin</span><span class="token punctuation">:</span>
  <span class="token key atrule">dns</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">enhanced-mode</span><span class="token punctuation">:</span> fake<span class="token punctuation">-</span>ip
    <span class="token key atrule">listen</span><span class="token punctuation">:</span> 0.0.0.0<span class="token punctuation">:</span><span class="token number">53</span>
    <span class="token key atrule">fake-ip-filter</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;*.lan&quot;</span>
      <span class="token punctuation">-</span> localhost.ptlogin2.qq.com
      <span class="token punctuation">-</span> dns.msftncsi.com
      <span class="token punctuation">-</span> www.msftncsi.com
      <span class="token punctuation">-</span> www.msftconnecttest.com
    <span class="token key atrule">nameserver</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 223.5.5.5
      <span class="token punctuation">-</span> 114.114.114.114
    <span class="token key atrule">fallback</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8.8.8.8
      <span class="token punctuation">-</span> 1.1.1.1
      <span class="token punctuation">-</span> tls<span class="token punctuation">:</span>//1.0.0.1<span class="token punctuation">:</span><span class="token number">853</span>
  <span class="token key atrule">experimental</span><span class="token punctuation">:</span>
    <span class="token key atrule">interface-name</span><span class="token punctuation">:</span> WLAN

<span class="token comment"># 延迟测试超时时间（毫秒），默认3000</span>
<span class="token comment"># 延迟测试URL</span>
<span class="token key atrule">cfw-latency-timeout</span><span class="token punctuation">:</span> <span class="token number">3000</span> <span class="token comment"># seconds</span>
<span class="token key atrule">cfw-latency-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//www.gstatic.com/generate_204

<span class="token comment"># 打断连接</span>
<span class="token comment"># proxy    none：默认值，不进行打断----chain：打断所有chains中包含此策略组的连接----all：打断所有连接</span>
<span class="token comment"># profile    true：切换配置前先打断所有连接----false：不打断</span>
<span class="token comment"># mode    true：切换代理模式（Direct/Rule/Global）时断开所有连接----false：不打断</span>
<span class="token key atrule">cfw-conn-break-strategy</span><span class="token punctuation">:</span>
  <span class="token key atrule">proxy</span><span class="token punctuation">:</span> all
  <span class="token key atrule">profile</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># 自定义配置目录</span>
<span class="token comment"># 0.8.5版本后，增加cfw-profiles-path字段用于自定义profiles目录路径（beta）</span>
<span class="token comment"># cfw-profiles-path: 'C:\Users\Administrator\.config\clash\profiles'</span>
<span class="token comment"># 绕过系统代理</span>
<span class="token comment"># System proxy will ignore these domains(or ipnet)</span>
<span class="token key atrule">cfw-bypass</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> localhost
  <span class="token punctuation">-</span> 127.*
  <span class="token punctuation">-</span> 10.*
  <span class="token punctuation">-</span> 172.16.*
  <span class="token punctuation">-</span> 172.17.*
  <span class="token punctuation">-</span> 172.18.*
  <span class="token punctuation">-</span> 172.19.*
  <span class="token punctuation">-</span> 172.20.*
  <span class="token punctuation">-</span> 172.21.*
  <span class="token punctuation">-</span> 172.22.*
  <span class="token punctuation">-</span> 172.23.*
  <span class="token punctuation">-</span> 172.24.*
  <span class="token punctuation">-</span> 172.25.*
  <span class="token punctuation">-</span> 172.26.*
  <span class="token punctuation">-</span> 172.27.*
  <span class="token punctuation">-</span> 172.28.*
  <span class="token punctuation">-</span> 172.29.*
  <span class="token punctuation">-</span> 172.30.*
  <span class="token punctuation">-</span> 172.31.*
  <span class="token punctuation">-</span> 192.168.*
  <span class="token punctuation">-</span> <span class="token string">&quot;*.qq.com&quot;</span>
  <span class="token punctuation">-</span> &lt;local<span class="token punctuation">&gt;</span>

<span class="token key atrule">Proxy</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Shadowsocks
    <span class="token key atrule">type</span><span class="token punctuation">:</span> socks5
    <span class="token key atrule">server</span><span class="token punctuation">:</span> 127.0.0.1
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">1080</span>
<span class="token key atrule">Proxy Group</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Proxy
    <span class="token key atrule">type</span><span class="token punctuation">:</span> select
    <span class="token key atrule">proxies</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Shadowsocks
<span class="token key atrule">Rule</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;MATCH,DIRECT&quot;</span>
<span class="token comment"># 启动其他应用</span>
<span class="token comment"># 版本0.6.1更新后，加入启动其他第三方应用的能力。可以在CFW启动后自动启动其他软件</span>
<span class="token comment"># cfw-child-process:</span>
<span class="token comment">#   - command: bark-helper-go.exe  # 程序名称</span>
<span class="token comment">#     args:</span>
<span class="token comment">#       - &quot;-t&quot; # 运行参数1</span>
<span class="token comment">#       - &quot;abcdefghijk&quot; # 运行参数2</span>
<span class="token comment">#     options:</span>
<span class="token comment">#       cwd: C:\bark-helper # 子进程工作目录</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br></div></div></details> <details><summary><b style="color:#B47CFD;">cfw-settings</b></summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">mixinText</span><span class="token punctuation">:</span> <span class="token punctuation">&gt;</span><span class="token punctuation">-</span>
  <span class="token key atrule">mixin</span><span class="token punctuation">:</span>
    <span class="token key atrule">dns</span><span class="token punctuation">:</span>
      <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">ipv6</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> 
      <span class="token key atrule">enhanced-mode</span><span class="token punctuation">:</span> redir<span class="token punctuation">-</span>host  <span class="token comment"># or fake-ip</span>
      <span class="token key atrule">listen</span><span class="token punctuation">:</span> 0.0.0.0<span class="token punctuation">:</span><span class="token number">53</span>
      <span class="token comment">#default-nameserver: # 用来解析下面dotdoh的ip地址,仅支持ip类型</span>
        <span class="token comment">#- 114.114.114.114</span>
        <span class="token comment">#- 8.8.8.8</span>
      <span class="token comment">#fake-ip-range: 198.18.0.1/16 # Fake IP 伪IP地址池</span>
      <span class="token comment">#fake-ip-filter:  #fakeip白名单</span>
        <span class="token comment">#- '*.lan'</span>
        <span class="token comment">#- localhost.ptlogin2.qq.com</span>
        <span class="token comment">#- 'dns.msftncsi.com'</span>
        <span class="token comment">#- 'www.msftncsi.com'</span>
        <span class="token comment">#- 'www.msftconnecttest.com'</span>
      <span class="token key atrule">nameserver</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 223.5.5.5
        <span class="token punctuation">-</span> 119.29.29.29
        <span class="token punctuation">-</span> 114.114.114.114
      <span class="token key atrule">fallback</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 8.8.8.8
        <span class="token punctuation">-</span> 1.1.1.1
        <span class="token punctuation">-</span> tls<span class="token punctuation">:</span>//1.0.0.1<span class="token punctuation">:</span><span class="token number">853</span>
      <span class="token key atrule">fallback-filter</span><span class="token punctuation">:</span>
        <span class="token key atrule">geoip</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>                  <span class="token comment"># 如果为true，当geoip为cn是发我往nameserver否则fallback</span>
        <span class="token key atrule">ipcidr</span><span class="token punctuation">:</span>                      <span class="token comment"># 这些子网中的P将被视为已污染，当nameserver结果与这些IP相匹配时，冲突将使用fallback</span>
          <span class="token punctuation">-</span> 240.0.0.0/4
    <span class="token key atrule">hosts</span><span class="token punctuation">:</span>
       <span class="token key atrule">'*.clash.dev'</span><span class="token punctuation">:</span> 127.0.0.1
       <span class="token key atrule">'*.360.cn'</span><span class="token punctuation">:</span> 127.0.0.1
<span class="token key atrule">mixinType</span><span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token key atrule">connProxy</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token key atrule">connProfile</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">connMode</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">iconDefault</span><span class="token punctuation">:</span> E<span class="token punctuation">:</span>\360\Clash for Windows\logo_64.ico
<span class="token key atrule">iconSystemProxy</span><span class="token punctuation">:</span> E<span class="token punctuation">:</span>\360\Clash for Windows\logo_64.ico
<span class="token key atrule">fontFamily</span><span class="token punctuation">:</span> Fira Code
<span class="token key atrule">systemTheme</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">bypassText</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token punctuation">-</span>
  <span class="token key atrule">bypass</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> localhost
    <span class="token punctuation">-</span> 127.*
    <span class="token punctuation">-</span> 10.*
    <span class="token punctuation">-</span> 172.16.*
    <span class="token punctuation">-</span> 172.17.*
    <span class="token punctuation">-</span> 172.18.*
    <span class="token punctuation">-</span> 172.19.*
    <span class="token punctuation">-</span> 172.20.*
    <span class="token punctuation">-</span> 172.21.*
    <span class="token punctuation">-</span> 172.22.*
    <span class="token punctuation">-</span> 172.23.*
    <span class="token punctuation">-</span> 172.24.*
    <span class="token punctuation">-</span> 172.25.*
    <span class="token punctuation">-</span> 172.26.*
    <span class="token punctuation">-</span> 172.27.*
    <span class="token punctuation">-</span> 172.28.*
    <span class="token punctuation">-</span> 172.29.*
    <span class="token punctuation">-</span> 172.30.*
    <span class="token punctuation">-</span> 172.31.*
    <span class="token punctuation">-</span> 192.168.*
    <span class="token punctuation">-</span> <span class="token string">&quot;*.qq.com&quot;</span>
    <span class="token punctuation">-</span> &lt;local<span class="token punctuation">&gt;</span>
<span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token key atrule">proxyOrder</span><span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token key atrule">interfaceName</span><span class="token punctuation">:</span> WLAN
<span class="token key atrule">headersText</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
  headers:</span>
<span class="token key atrule">showNotifications</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div></details> <h4 id="profiles-xxxx-yaml"><a href="#profiles-xxxx-yaml" class="header-anchor">#</a> Profiles/xxxx.yaml</h4> <ul><li>位置 <code>Home Directory/profiles/xxxx.yaml</code></li> <li><code>Profiles</code>文件夹下文件均由用户导入，CFW 统一生成的，一般命名为时间戳</li> <li>用户文件可以不完整，开启过程中用户文件中<code>Proxy/Proxy Group/Rule/dns</code>字段会被替换到核心文件中</li> <li>cfw0.11.0 正式版后 core 的逻辑似乎变了<code>log-level: info``mode: rule</code>会跟随<code>profile</code>设置的,不在跟随之前的<code>config.yaml</code></li></ul> <blockquote><p>步骤 1 完成后，Clash 会按照 config.yaml 设置启动
步骤 2 完成后，用户配置文件里的 Proxy/Proxy Group/Rule/dns 这几个字段的内容会被替换到 Clash 里面，除了上面值几个字段，其他的内容均不会替换（这就是 Profiles 里配置文件可以不完整的原因）</p></blockquote> <h4 id="cfw-配置-tap-网卡配置"><a href="#cfw-配置-tap-网卡配置" class="header-anchor">#</a> cfw 配置 tap 网卡配置</h4> <p>0.11.0 以后 tap 参数迁移至<code>cfw-settings</code>具体写法参上标题 config.yaml 内</p> <ul><li>core-1.0 正式版之后取消<code>experimental</code>参数,<code>interface-name</code>参数向前缩进一位</li> <li><a href="https://github.com/Dreamacro/clash/wiki/Breaking-Changes-in-1.0.0" target="_blank" rel="noopener noreferrer">具体见 D 大 1.0 更新日志<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <details><summary><b style="color:#B47CFD;">0.11.0之前tap网卡参数(fake-ip为例)</b></summary> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7890</span>
<span class="token key atrule">socks-port</span><span class="token punctuation">:</span> <span class="token number">7891</span>
<span class="token key atrule">allow-lan</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">mode</span><span class="token punctuation">:</span> Rule
<span class="token key atrule">log-level</span><span class="token punctuation">:</span> info
<span class="token key atrule">external-controller</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">9090</span>
<span class="token key atrule">Proxy</span><span class="token punctuation">:</span> <span class="token null important">~</span>
<span class="token key atrule">Proxy Group</span><span class="token punctuation">:</span> <span class="token null important">~</span>
<span class="token key atrule">Rule</span><span class="token punctuation">:</span> <span class="token null important">~</span>
<span class="token key atrule">dns</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">enhanced-mode</span><span class="token punctuation">:</span> fake<span class="token punctuation">-</span>ip
  <span class="token key atrule">listen</span><span class="token punctuation">:</span> 10.0.0.1<span class="token punctuation">:</span><span class="token number">53</span> <span class="token comment">#0.9.7之前改为127.0.0.1:53</span>
    <span class="token key atrule">fake-ip-filter</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;*.lan&quot;</span>
      <span class="token punctuation">-</span> localhost.ptlogin2.qq.com
      <span class="token punctuation">-</span> dns.msftncsi.com
      <span class="token punctuation">-</span> www.msftncsi.com
      <span class="token punctuation">-</span> www.msftconnecttest.com
    <span class="token key atrule">nameserver</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 223.5.5.5
      <span class="token punctuation">-</span> 114.114.114.114
    <span class="token key atrule">fallback</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8.8.8.8
      <span class="token punctuation">-</span> 1.1.1.1
      <span class="token punctuation">-</span> tls<span class="token punctuation">:</span>//1.0.0.1<span class="token punctuation">:</span><span class="token number">853</span>
  <span class="token key atrule">experimental</span><span class="token punctuation">:</span> <span class="token comment">#可以不填,支持自带查找网卡</span>
    <span class="token key atrule">interface-name</span><span class="token punctuation">:</span> WLAN <span class="token comment">#自己的网卡名称</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></details> <blockquote><p>配置文件里<code>cfw-xxx</code>这种设置才是 CFW 的，其他都是 Clash 自己的(cfw0.11.0 后抛弃<code>cfw-xxx</code>)具体见<code>cfw-settings</code>
所以 dns 设置是 Clash 的，<code>listen</code>只是一个设置，表示 DNS 服务器要不要对外提供服务
即使去掉<code>listen</code>，dns 的设置也一样在工作,匹配规则的时候，直连的时候都需要 dns</p></blockquote> <h4 id="clash-测试网址-204"><a href="#clash-测试网址-204" class="header-anchor">#</a> clash 测试网址 204</h4> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>www.google.com/generate_204

http<span class="token punctuation">:</span>//cp.cloudflare.com/generate_204

clients1.google.com/generate_204

http<span class="token punctuation">:</span>//www.gstatic.com/generate_204
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="clash-core1-0-更新说明"><a href="#clash-core1-0-更新说明" class="header-anchor">#</a> clash-core1.0 更新说明</h3> <ul><li><code>Proxy,Proxy Group,Rule</code>不再使用。现在分别替换为<code>proxies,proxy-groups,rules</code></li> <li><code>rule-provider</code>不再是有效的关键字。由<code>rule-providers</code>代替。</li> <li>对于 ss 节点（远程服务器），<code>obfs</code>并且<code>obfs-host</code>不再是有效字段。使用<code>plugin</code>和<code>plugin-opts</code>代替。</li> <li><code>FINAL</code>在规则中不再有效。使用<code>MATCH</code>代替。</li> <li><code>SOURCE-IP-CIDR</code>在规则中不再有效。使用<code>SRC-IP-CIDR</code>代替。</li> <li><code>experimental</code>现在已弃用。前者<code>experimental.interface-name</code>现在<code>interface-name</code>。</li></ul> <h3 id="怎么攒一个最新版-clashr-内核"><a href="#怎么攒一个最新版-clashr-内核" class="header-anchor">#</a> 怎么攒一个最新版 clashr 内核</h3> <ol><li>下载：Dreamacro 的 dev 分支</li> <li>安装 go 语言环境</li> <li>cmd 到项目路径下，go build 编译一下就可以用了
by leosam1024</li></ol> <h3 id="clash-常见问题"><a href="#clash-常见问题" class="header-anchor">#</a> clash 常见问题</h3> <h4 id="tap-和系统代理优先级"><a href="#tap-和系统代理优先级" class="header-anchor">#</a> tap 和系统代理优先级</h4> <ul><li><strong>系统代理大于 tap</strong></li></ul> <p>tap 和系统代理同时开的时候,优先走系统代理</p> <h4 id="cfw-开启局域网共享失败"><a href="#cfw-开启局域网共享失败" class="header-anchor">#</a> cfw 开启局域网共享失败</h4> <ul><li>打开 Allow LAN 开关</li> <li>鼠标悬停 cfw 会出现 ip 地址，或 cmd 输入<code>ipconfig</code></li> <li>手机 WiFi 设置点击手打选择代理主机填 ip，端口 7890（http）</li></ul> <blockquote><p>开启失败原因，检查设置--网络与英特尔--状态--更改连接属性--公用专用网络
如果切换无用,控制面板--系统安全--防火墙--允许应用通过防火墙,里面勾选 clash 核心</p></blockquote> <h4 id="clash-wifi-使用正常-宽带拨号连接全部超时"><a href="#clash-wifi-使用正常-宽带拨号连接全部超时" class="header-anchor">#</a> clash-wifi 使用正常，宽带拨号连接全部超时</h4> <ul><li>网卡接口名称指定 wlan</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">experimental</span><span class="token punctuation">:</span> <span class="token comment">#此参数core1.0/cfw0.11.0后抛弃</span>
  <span class="token key atrule">interface-name</span><span class="token punctuation">:</span> WLAN
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>删除或者指定正在使用的网卡名称接口</p></blockquote> <h4 id="clash-profiles-界面为空"><a href="#clash-profiles-界面为空" class="header-anchor">#</a> clash-profiles 界面为空</h4> <p><img src="https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200510102453.jpg" alt=""></p> <blockquote><p>用户目录下.config/clash 文件夹内删掉 profiles 文件夹再重启
clash 首页 Home Directroy 可直接跳转
参考 issues#570</p></blockquote> <h4 id="cfw-报错-多半使用-rule-providers"><a href="#cfw-报错-多半使用-rule-providers" class="header-anchor">#</a> cfw 报错--多半使用 rule-providers</h4> <p><img src="https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200720100445.jpg" alt=""></p> <p>如图，raw 炸了。自行更换其他连接，例如<code>cdn.jsdelivr</code>或其他网盘。也可上<code>dot,doh</code>试试</p> <h4 id="cfw0-11-0-正式版-bug-0-11-1-版本修复"><a href="#cfw0-11-0-正式版-bug-0-11-1-版本修复" class="header-anchor">#</a> cfw0.11.0 正式版 bug，0.11.1 版本修复</h4> <p><img src="https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200720102011.png" alt=""></p> <p><strong>手动修复方法两种</strong></p> <ul><li><code>parser</code>错了手动改为 <code>parsers: []</code></li> <li><code>进home directory</code>里把<code>cfw-settings</code>删掉重启 app</li></ul> <h4 id="cfw-遇见-external-ui-not-exist-多半为神机规则"><a href="#cfw-遇见-external-ui-not-exist-多半为神机规则" class="header-anchor">#</a> cfw 遇见 external-ui..not exist(多半为神机规则)</h4> <p><code>external-ui: D: Breakwall\Clash. for Windows\resources\static\files\folder not exist</code></p> <p><img src="https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200720102537.jpg" alt=""></p> <p><strong>解决方法</strong></p> <ul><li>把配置文件里面<code>external-ui: folder</code>删掉</li> <li>或者在<code>\.config\clash</code>新建<code>folder</code>文件夹
<blockquote><p><code>external-ui: dashboard_Razord</code>是放静态网页文件的,神机默认用了叫<code>folder</code>的文件夹.用新建不用则删掉</p></blockquote></li></ul> <h4 id="cfa-怎么开启局域网共享"><a href="#cfa-怎么开启局域网共享" class="header-anchor">#</a> cfa 怎么开启局域网共享</h4> <ul><li>配置文件里开启<code>allow-lan: true</code></li></ul> <h4 id="safebrowsing-googleapis-com-偷跑流量-特指-safari-浏览器"><a href="#safebrowsing-googleapis-com-偷跑流量-特指-safari-浏览器" class="header-anchor">#</a> safebrowsing.googleapis.com 偷跑流量（特指 Safari 浏览器</h4> <details><summary><b style="color:#B47CFD;">cfw-settings</b></summary> <ul><li>进程<code>com.apple.Safari.SafeBrowsing.Service</code></li> <li>访问地址<code>safebrowsing.googleapis.com</code></li></ul> <p>这是 Safari 和安全流量相关的服务</p> <blockquote><p>Safe browsing 说明
大致是介绍 Safe browsing (安全浏览)是谷歌提供的一种服务，利用谷歌持续更新的恶意网址和钓鱼网站的数据集，来检测 url 的安全性，帮助我们有效抵御网上诱骗、社交工程、恶意软件、垃圾软件、恶意广告、侵扰性广告以及侮辱性网站或扩展程序带来的危害。</p></blockquote> <p>该服务是针对 Safari 浏览器启用的，在 Safari 要帮你导航到下一级页面的时候，会识别该页面是否是欺诈 🐶 或者不安全 ⚠️ 的网站。
我们在 Safari 的 Security 菜单中可以找到启用关于欺诈网站的检测功能的开关。可以关掉</p> <p>**导致这个问题的原因是：**如果 iOS / macOS 操作系统的“国家或地区”设置为中国大陆，那么 Safari 会会请求 safebrowsing.urlsec.qq.com 和 safebrowsing.googleapis.com 去下载欺诈网站的数据库，并且可能会发送用户的 IP 地址等浏览信息。如果是非中国大陆，则只向 safebrowsing.googleapis.com 请求下载数据。</p> <p>这个操作可能会引起两个问题，一个是按照规则来看，这个过程会消耗大量的代理流量。第二个是，腾讯的网站数据库会阻止我们浏览成人网站，而且会发送一些信息到腾讯，我并不相信腾讯。</p> <p>为了彻底禁止这个功能，可以进入 Safari 设置中安全项目，关闭欺诈性网站警告功能后，将两个域名的策略手动设置为 REJECT。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>safebrowsing.googleapis.com<span class="token punctuation">,</span>DIRECT
<span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>safebrowsing.urlsec.qq.com<span class="token punctuation">,</span>DIRECT
<span class="token comment"># 或者</span>
<span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>safebrowsing.googleapis.com<span class="token punctuation">,</span>REJECT
<span class="token punctuation">-</span> DOMAIN<span class="token punctuation">-</span>SUFFIX<span class="token punctuation">,</span>safebrowsing.urlsec.qq.com<span class="token punctuation">,</span>REJECT
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>参考链接:<a href="https://github.com/Hackl0us/SS-Rule-Snippet/issues/92" target="_blank" rel="noopener noreferrer">https://github.com/Hackl0us/SS-Rule-Snippet/issues/92<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
参考链接:<a href="https://blog.dun.im/dun/macos-ios-traffic.html" target="_blank" rel="noopener noreferrer">https://blog.dun.im/dun/macos-ios-traffic.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
参考链接:<a href="https://www.jishuwen.com/d/2LUm/zh-hk" target="_blank" rel="noopener noreferrer">https://www.jishuwen.com/d/2LUm/zh-hk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></details> <h4 id="来自-clashx-的报错"><a href="#来自-clashx-的报错" class="header-anchor">#</a> 来自 clashx 的报错</h4> <details><summary><b style="color:#B47CFD;">cfw-settings</b></summary> <p><img src="https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200524174611.png" alt=""></p> <p>果子的开发者证书掉了(99$/年),等开发者重新打包.或者在系统偏好设置中开启允许任何来源</p> <blockquote><p>参考链接:<a href="https://github.com/paradiseduo/ClashXR/issues/5" target="_blank" rel="noopener noreferrer">https://github.com/paradiseduo/ClashXR/issues/5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></details> <h4 id="奇葩-bug"><a href="#奇葩-bug" class="header-anchor">#</a> 奇葩 bug</h4> <p>不知名野生 bug，机场节点延迟全红（个别机场可以用），不管更新重装还是咋样都是一如既往的红
web 端面板打不开，或打开节点列表界面卡死</p> <blockquote><p>解决方法：系统还原到上个还原点（应该是某个更新或驱动造成的）
我的电脑右键属性或控制面板--系统安全--系统。系统保护--还原点还原(前提已开启系统还原保护)
此操作可能影响到部分应用或驱动</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">6/11/2021, 1:57:07 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/科学发现/clash相关项目git链接.html" class="prev">
        clash相关项目git链接
      </a></span> <span class="next"><a href="/pages/科学发现/clash规则去广告和插件对比.html">
        clash规则去广告和插件对比
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f6a11fcd.js" defer></script><script src="/assets/js/2.e89ba512.js" defer></script><script src="/assets/js/76.b356481b.js" defer></script>
  </body>
</html>
