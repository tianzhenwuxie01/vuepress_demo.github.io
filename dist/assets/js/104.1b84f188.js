(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{462:function(t,s,n){"use strict";n.r(s);var a=n(44),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("看看文件中的这些多余元数据是什么了，可以使用 PhotoShop 中的“文件简介 Alt+Shift+Ctrl+I”来查看，挨着翻一遍，切换到“原始数据”标签页时，这一大堆东西什么鬼就特别显眼，没有什么语义一看就很异常冗余。")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://i.loli.net/2019/08/24/4ZNQYyLb9oMPWri.png",alt:""}})]),t._v(" "),n("h3",{attrs:{id:"这些都是什么呢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#这些都是什么呢"}},[t._v("#")]),t._v(" 这些都是什么呢？")]),t._v(" "),n("p",[t._v("于是又到了求助 Google 的环节， 这是什么东西？从 Adobe 的 XMP 官方文档可以找到如下说明（第 32 页）：")]),t._v(" "),n("blockquote",[n("p",[t._v("photoshop:DocumentAncestors")])]),t._v(" "),n("blockquote",[n("p",[t._v("If the source document for a copy-and-paste or place operation has a document ID, that ID is added to this list in the destination document’s XMP.")])]),t._v(" "),n("blockquote",[n("p",[t._v("当你进行复制粘贴、拖入、导入新文件等操作时，如果这些内容来源有文档 ID，就会被记录到当前文档的 XMP 数据中，并且这些记录是不断累加的，所以特别是那些反复编辑的文档，就会慢慢累计越来越多的“文档来源”数据。")])]),t._v(" "),n("p",[t._v("官方解释比较模糊，其它帖子也没说明白“文档 ID”到底是怎么记录的，有什么用途。文件的 XMP 数据可以导出，上面示例文件就包含了 11 万多条的“文档来源”数据，里面又分为几种不同的标签内容，这么海量的来源数据真不知道都它在记录些什么（导出的 XMP 数据在文末可下载）。")]),t._v(" "),n("h3",{attrs:{id:"该怎么办"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#该怎么办"}},[t._v("#")]),t._v(" 该怎么办？")]),t._v(" "),n("p",[t._v("遗憾的是这些数据完全是软件自动记录，没办法禁用这种记录行为。因为 XMP 数据的开放性与可编辑性，需要想办法直接清理掉文件中的冗余数据，而不是导出图片的时候再清理，不然还会继续存在于 PSD 文件中。")]),t._v(" "),n("p",[t._v("当然，这么浅显的解决思路一定有大神已经实现了，利用 PhotoShop 的脚本事件功能，就能自动清理文件中的“文档来源”数据：")]),t._v(" "),n("ul",[n("li",[t._v("将下面这段代码存为 .jsx 格式（也有现成的在文末可下载）")])]),t._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("function deleteDocumentAncestorsMetadata() "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  whatApp = String(app.name);\n  if (whatApp.search("),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Photoshop"')]),t._v(") > "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(") "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    if (!documents.length) "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      alert(\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"There are no open documents. Please open a file to run this script."')]),t._v("\n      );\n      return;\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    if (ExternalObject.AdobeXMPScript == undefined)\n      ExternalObject.AdobeXMPScript = new ExternalObject("),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lib:AdobeXMPScript"')]),t._v(");\n    var xmp = new XMPMeta(activeDocument.xmpMetadata.rawData);\n    xmp.deleteProperty(XMPConst.NS_PHOTOSHOP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DocumentAncestors"')]),t._v(");\n    app.activeDocument.xmpMetadata.rawData = xmp.serialize();\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndeleteDocumentAncestorsMetadata();\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br")])]),n("ul",[n("li",[t._v("在 PhotoShop 中打开“文件 > 脚本 > 脚本事件管理器”窗口，照着下图设置\n"),n("img",{attrs:{src:"https://i.loli.net/2019/08/24/jsCUwN1KGSERLAQ.png",alt:""}}),t._v("\n这种方法的效果就是，PhotoShop 每次打开文件，都会先自动清理掉冗余的“文档来源”数据，然后你就可以开心地随意保存图片了，并且对应的 PSD 文件都不会大得离谱。如果文件依然很大，那就是它本来就应该那么大，")])]),t._v(" "),n("p",[t._v("最后提醒一下，以上方法仅解决元数据造成的文件过大和 PS 运行缓慢，如果文件本身尺寸或图层造成的问题，请参考以下情况对症解决：")]),t._v(" "),n("ul",[n("li",[t._v("清理空图层")]),t._v(" "),n("li",[t._v("清理未使用的样式")]),t._v(" "),n("li",[t._v("合理使用“智能对象”")]),t._v(" "),n("li",[t._v("适量的栅格化图层")]),t._v(" "),n("li",[t._v("保存时隐藏全部图层")]),t._v(" "),n("li",[t._v("发送文件时先压缩打包")])]),t._v(" "),n("p",[t._v("注意分辨率，小尺寸的图，分辨率可以大一点。大尺寸的图，应该小一点，以下参数仅供参考：名片 600-800dpi、宣传单、画册 300dpi、海报印刷 260dpi、喷绘精喷 140DPI、喷布或超大尺寸 23.5-72dpi.假设，喷布建了一块 10 米 ×5 米的图，分辨率一般 30-45 即可，如果建到了 300，什么电脑都不行的")])])}),[],!1,null,null,null);s.default=e.exports}}]);