(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{422:function(a,e,t){"use strict";t.r(e);var s=t(44),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("本文记录一下 Clash for Windows 的汉化过程，其实是比较简单的。Clash 的文字相关配置都在"),t("code",[a._v("Clash for Windows\\resources\\app.asar")]),a._v("中，用 node.js 将其解包，修改为中文后，再重新打包即可。")]),a._v(" "),t("blockquote",[t("p",[a._v("来自幽游地")])]),a._v(" "),t("h2",{attrs:{id:"下载-clashr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载-clashr"}},[a._v("#")]),a._v(" 下载 ClashR")]),a._v(" "),t("p",[a._v("项目地址："),t("a",{attrs:{href:"https://github.com/Fndroid/clash_for_windows_pkg/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/Fndroid/clash_for_windows_pkg/releases"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("截至本文发布时，最新版是 0.9.8")]),a._v(" "),t("p",[a._v("下载后解压")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824213828.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/9113a9e77861532bfb272430fa82b27e",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-224.jpg"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"安装-node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-node-js"}},[a._v("#")]),a._v(" 安装 Node.js")]),a._v(" "),t("p",[a._v("下载地址："),t("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://nodejs.org/zh-cn/"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("下载后自行安装即可，不赘述")]),a._v(" "),t("p",[a._v("安装完毕后，打开 Powershell，输入 "),t("code",[a._v("npm -v")]),a._v("，检查是否安装成功，通常会返回版本号，如果没有就需要手动配置环境变量，这个就自行搜索解决吧")]),a._v(" "),t("h2",{attrs:{id:"汉化过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#汉化过程"}},[a._v("#")]),a._v(" 汉化过程")]),a._v(" "),t("h3",{attrs:{id:"安装-asar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-asar"}},[a._v("#")]),a._v(" 安装 asar")]),a._v(" "),t("p",[a._v("首先进入 "),t("code",[a._v("app.asar")]),a._v(" 所在目录，然后用 npm 安装 asar，在 Powershell 中输入：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install -g asar\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("等待安装完毕：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824213904.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/87dfef685148d2dc6b80e5619aef2f34",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-226.jpg"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("需要注意一下 "),t("code",[a._v("asar")]),a._v(" 的安装路径，如上图中红框部分就是路径。")]),a._v(" "),t("p",[a._v("输入 "),t("code",[a._v("asar --version")]),a._v(" 确认安装是否成功，返回版本号即成功，否则手动设置环境变量")]),a._v(" "),t("h3",{attrs:{id:"解包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解包"}},[a._v("#")]),a._v(" 解包")]),a._v(" "),t("p",[a._v("输入如下命令解包：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("asar extract app.asar 文件夹名\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("示例：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("asar extract app.asar jiebao\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("解包之后，在你指定的文件夹中，会在 "),t("code",[a._v("Clash for Windows\\resources\\")]),a._v(" 下生成一个文件夹 "),t("code",[a._v("jiebao")]),a._v("，进入此文件夹下，目录结构如下：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824214051.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/64858a782708afe8fd23de2f01960994",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-227.jpg"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("进入 "),t("code",[a._v("Clash.for.Windows-0.9.8-win\\resources\\jiebao\\dist\\electron")]),a._v("，打开文件 "),t("code",[a._v("renderer.js")]),a._v("：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824214150.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/d5343c144b90c2ca00ce6cc69a43fa6d",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-228.jpg"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("打开后会发现格式比较乱，可以网上找一个 js 格式美化工具美化一下，修改时看起来比较容易。")]),a._v(" "),t("h3",{attrs:{id:"替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#替换"}},[a._v("#")]),a._v(" 替换")]),a._v(" "),t("p",[a._v("整个汉化过程，主要就是将原版英文界面出现的字符替换为中文")]),a._v(" "),t("p",[a._v("举个例子：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824214226.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/cc38b77a83b300176444b49822be0d04",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-229.jpg"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("如上图红框，我们需要将其汉化，那么我们就在 "),t("code",[a._v("renderer.js")]),a._v(" 里搜索 "),t("code",[a._v('"General"')]),a._v("：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824214243.jpg",alt:""}})]),a._v(" "),t("p",[t("a",{attrs:{href:"https://img.uud.me/dispatch/58f6169bd760b1e4b644c8b8bc3f108f",target:"_blank",rel:"noopener noreferrer"}},[a._v("20200425-230.jpg"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("将其进行替换即可。")]),a._v(" "),t("p",[a._v("想要汉化哪个就搜索哪个，逐个替换，是个体力活。")]),a._v(" "),t("h3",{attrs:{id:"重新打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重新打包"}},[a._v("#")]),a._v(" 重新打包")]),a._v(" "),t("p",[a._v("当你汉化完成后，就可以将文件重新打包：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("asar pack 文件夹名 app.asar\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("示例：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("asar pack jiebao app.asar\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("如果替换过程没有错误的话，打包完成后，打开 ClashR，就可以看到汉化效果：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/tianzhenwuxie01/gitpicgo/img/20200824214329.jpg",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),t("p",[a._v("方法步骤是比较简单的，麻烦的是替换的过程。")])])}),[],!1,null,null,null);e.default=r.exports}}]);